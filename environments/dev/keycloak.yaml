app:
  name: keycloak-app
namespace: keycloak
domain: keycloak-dev.ltu-m7011e-2.se
email: jacsjs-7@student.ltu.se
environment: Development

keycloak:
  fullnameOverride: keycloak-app
  existingSecret: keycloak-admin-secret
  auth:
    adminUser: admin
    existingSecretKey: admin-password
  replicas: 1
  ingress:
    enabled: false
  image:
    registry: docker.io
    repository: bitnami/keycloak
    tag: 24.0.0    # Valid tag from Docker Hub
  extraEnvVars:
    - name: KC_PROXY
      value: "edge"
    - name: KC_HOSTNAME
      value: "keycloak-dev.ltu-m7011e-2.se"
    - name: KC_HOSTNAME_STRICT
      value: "true"
    - name: KC_HOSTNAME_STRICT_HTTPS
      value: "true"
  metrics:
    enabled: true
  securityContext:
    runAsUser: 1001
    runAsNonRoot: true
  podSecurityContext:
    fsGroup: 1001
  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: 1
      memory: 1Gi

postgresql:
  fullnameOverride: keycloak-db
  image:
    registry: docker.io
    repository: bitnami/postgresql
    tag: 15.5.0    # Valid tag from Docker Hub
  auth:
    username: keycloak
    existingSecret: keycloak-db-secret
    existingSecretKey: db-password
    database: keycloakdb
  primary:
    persistence:
      enabled: true
      size: 8Gi
  resources:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi